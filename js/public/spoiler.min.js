!function(){var n=".spoiler",s=".spoiler-body",d=".fdb-card",r=".fdb-card-missing",o="images/in-pages/search/more.jpg",e=/fdb-card-/,c="fdb-card-3";function t(n,t,i,r){var a,s,e=function(n,t){for(var i=[],r=1;r<=t;r++)-1===n.indexOf(r)&&i.push(r);return i}((a=[],$(d,t).each(function(){var n=parseInt($(this).data("number"));-1===a.indexOf(n)&&a.push(n)}),a.sort(function(n,t){return n-t})),i).reduce(function(n,t){return n+["<div ",'class="fdb-card ',c,' fdb-card-missing" ','data-number="',i=t,'" ','data-code="',r,"-",function(n,t,i){for(i=i||"0",string=n+"";string.length<t;)string=i+string;return string}(i,3),'"',">",'<span class="fdb-card-missing-label">',i,"</span>",'<img src="',o,'">',"</div>"].join("");var i},"");t.append(e),s=t,$(d,s).sort(function(n,t){return $(n).data("code")<$(t).data("code")?-1:1}).appendTo(s)}function i(n,t){var i;$(r).remove(),i=t,$(d,i).sort(function(n,t){return $(n).data("id")<$(t).data("id")?1:-1}).appendTo(i)}$(document).ready(function(){$(document).on("click","#opt_i_missing",function(){var a;a=$(this),$(n).each(function(){var n=$(this),t=$(s,n),i=n.data("set-code").toUpperCase(),r=parseInt(n.data("set-count"));c=$(d).first().attr("class").split(" ").find(function(n){return n.match(e)}),a.hasClass("active")?$(document).trigger("my:hide-missing",[t]):$(document).trigger("my:show-missing",[t,r,i])})}).on("my:show-missing",t).on("my:hide-missing",i)})}();